syntax = "proto3";

package callback.v1;

enum CategoryDirection {
  CATEGORY_DIRECTION_UNSPECIFIED = 0;
  CATEGORY_DIRECTION_EXPENSE = 1;
  CATEGORY_DIRECTION_INCOME = 2;
}

message ShowMainSettings {}

message ShowCategoryList {
  CategoryDirection category_direction = 1;
}

message ShowCategorySettings {
  int64 category_id = 1;
  ShowCategoryList navigated_from = 2;
}

message CreateCategory {
  CategoryDirection category_direction = 1;
}

message CancelCreateCategory {}

message UpdateCategory {
  enum Field {
    FIELD_UNSPECIFIED = 0;
    FIELD_NAME = 1;
    FIELD_LABEL = 2;
    FIELD_DIRECTION = 3;
    FIELD_IS_REGULAR = 4;
    FIELD_TARGET_AMOUNT = 5;
  }
  int64 category_id = 1;
  Field field = 2;
}

message CancelUpdateCategory {}

message DeleteCategory {
  int64 category_id = 1;
}

message CancelDeleteCategory {}

message CreateTransaction {
  int64 transaction_id = 1;
  CategoryDirection category_direction = 2;
  bool is_short_mode = 3;
}

message CancelCreateTransaction {
  int64 transaction_id = 1;
}

message ApproveTransactionCategory {
  int64 transaction_id = 1;
  int64 category_id = 2;
}

message Callback {
  oneof query {
    ShowMainSettings show_main_settings = 1;
    ShowCategoryList show_category_list = 2;
    ShowCategorySettings show_category_settings = 3;
    CreateCategory create_category = 4;
    CancelCreateCategory cancel_create_category = 5;
    UpdateCategory update_category = 6;
    CancelUpdateCategory cancel_update_category = 7;
    DeleteCategory delete_category = 8;
    CancelDeleteCategory cancel_delete_category = 9;
    CreateTransaction create_transaction = 10;
    CancelCreateTransaction cancel_create_transaction = 11;
    ApproveTransactionCategory approve_transaction_category = 12;
  }
}
